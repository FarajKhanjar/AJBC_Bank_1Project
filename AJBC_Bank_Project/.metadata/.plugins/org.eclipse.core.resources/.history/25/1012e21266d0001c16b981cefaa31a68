package Menus;

import java.time.LocalDate;

import java.util.Scanner;
import Runner.Static_Scan;

import AppManager.AppManager;
import BankManager.BankManager;

public class WelcomeMenu 
{	
	protected static Scanner scanner;
	
	public static void bankMenu() 
	{
		System.out.println("You are welcome to our AJBC Bank :)\n");
		System.out.println("===================================");
		System.out.println("1. Login\n"+ "2. Open Account\n" + "3. Exit\n");
		bankMenuActions();
	}
	
	/**
	 *  main menu for login, opening account and exit system
	 */
	public static void bankMenuActions()
	{
		int choice = scanner.nextInt();
		scanner.nextLine();
		String username, password;
		//private  AccountOwner currentUser;
		final int ENTER = 1;
		final int NEW = 2;
		final int EXIT = 3;
		
		while (choice != EXIT)
		{
			switch (choice)
			{
			case 1:
				username = AppManager.getUsernameFromInput();
				password = AppManager.getPasswordFromInput();
				AppManager.currentUser = AppManager.login(username, password);
				if (currentUser != null)
					if (currentUser instanceof BankManager)
						ManagerMenu.managerMenu();
					else
						OwnerMenu.ownerMenu();
				break;	
			case 2:
				AppManager.openAccount();
				break;
			default:
				break;
			}
			bankMenu();
			choice = scanner.nextInt();
			scanner.nextLine();
		}
		System.out.println("Goodbye!");
	}	
}